This is a minimal [Aztec3]() noir smart contract and frontend bootstrapped with [`aztec-cli unbox`](https://github.com/AztecProtocol/aztec-packages/tree/master/yarn-project/aztec-cli). It is recommended you use the `aztec-cli unbox` command so that the repository is cloned with an example noir smart contract from the [`noir-contracts`](https://github.com/AztecProtocol/aztec-packages/tree/master/yarn-project/noir-contracts) repostiroy.# React + TypeScript + Vite

This was probably created by running the command `aztec-cli unbox {CONTRACT_NAME}`. Some settings assume that CONTRACT_NAME was `PrivateToken` and will require some manual changes (listed below). `aztec-cli` can be installed with `npm i -g @aztec/cli`, if you don't have it already.

The above command copied an example [noir contract](https://github.com/AztecProtocol/aztec-packages/tree/master/yarn-project/noir-contracts) into `/src/contracts` as well as the entire `starter-kit` [subpackage](https://github.com/AztecProtocol/aztec-packages/tree/master/yarn-project/starter-project). This includes a minimal frontend for the copied smart contract.

## Setup

This project requires `nargo` (package manager) and `noir` (Aztec ZK smart contract language) in addition to `@aztec/aztec-cli`.

The former two can be installed with

```bash
# install noirup
curl -L https://raw.githubusercontent.com/noir-lang/noirup/main/install | bash

noirup -v aztec

```

Install package dependencies for the frontend as usual with

```bash
yarn install
```

Lastly, we need setup a local sandbox instance of the Aztec Network, via

```bash
/bin/bash -c "$(curl -fsSL 'https://up.aztec.network')"
```

This sandbox requires [Docker](https://www.docker.com/) to be installed locally.

(note: the URL is currently gated by an auth token, so you may be given a URL that looks like `https://up-dev.aztec.network/?auth=SOME_TOKEN_HERE`)

## Getting started

This folder should have the following directory structure:

```
|— README.md
|— package.json
|- .env (autogenerated by aztec-cli unbox)
|— src
       |— app
              |— [frontend TSX code]
       |- scripts
              |- [helpers for frontend to interact with the sandbox]
       |— contracts
              |- [noir-lib Aztec helper functions]
              |— src
                     |— main.nr - the cloned noir contract, your starting point
                     |- [other .nr contract files]
               |— Nargo.toml
       |— artifacts
              |— private_token_contract.json - these are generated by the compile command
              |— private_token.ts
       |— test
         |- currently empty, TODO: add end to end test here (and copy required fixtures)
```

Most relevant to you is likely `src/contracts/main.nr` (and the build config `src/contracts/Nargo.toml`). This contains the example smart contract logic that the frontend displays, and is a good place to start writing Noir.

The `src/artifacts` folder can be generated from the command line with

```bash
aztec-cli compile src/contracts --outdir ../artifacts --typescript ../artifacts
# TODO: replace with yarn compile
```

This will generate a [Contract ABI](https://www.alchemy.com/overviews/what-is-an-abi-of-a-smart-contract-examples-and-usage) and TypeScript class for the Aztec smart contract in `src/contracts/main.nr`, which the frontend uses to generate the UI.

TODO: why the package.json `yarn compile` command doesn't seem to get picked up?

After compiling, you can deploy the noir smart contract with

```bash
# ALICE and BOB addresses are hardcoded in the copied over .env file
aztec-cli deploy src/artifacts/PrivateToken.json  --args 1000000 $ALICE --salt 0
```

The command should succeed and return the address of the deployed contract. This will need
to be updated in the `.env` file's `VITE_CONTRACT_ADDRESS` value if you are using a different contract or have changed the deploy command.

Lastly, launch the frontend:

```bash

npm run dev
# or
yarn dev
```

Open [http://localhost:5173](http://localhost:5173) with your browser to see a minimal smart contract frontend.

## Learn More

To learn more about Noir Smart Contract development, take a look at the following resources:

- [Awesome Noir](https://github.com/noir-lang/awesome-noir) - learn about the Noir programming language.

## Deploy on Aztec3

Coming Soon :)

# Vite README

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## Expanding the ESLint configuration

If you are developing a production application, we recommend updating the configuration to enable type aware lint rules:

- Configure the top-level `parserOptions` property like this:

```js
   parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module',
    project: ['./tsconfig.json', './tsconfig.node.json'],
    tsconfigRootDir: __dirname,
   },
```

- Replace `plugin:@typescript-eslint/recommended` to `plugin:@typescript-eslint/recommended-type-checked` or `plugin:@typescript-eslint/strict-type-checked`
- Optionally add `plugin:@typescript-eslint/stylistic-type-checked`
- Install [eslint-plugin-react](https://github.com/jsx-eslint/eslint-plugin-react) and add `plugin:react/recommended` & `plugin:react/jsx-runtime` to the `extends` list
